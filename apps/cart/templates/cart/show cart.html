{% extends "base.html" %}

{% block title %}Your Cart{% endblock %}

{% block content %}

<h1 class="text-3xl font-bold mb-8">Your Shopping Cart</h1>

{% if cart.items.all %}

<div class="space-y-6">

    {% for item in cart.items.all %}
    <div class="flex items-center justify-between border rounded-lg p-4 shadow-sm">

        <!-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø­ØµÙˆÙ„ -->
        <div>
            <h2 class="font-semibold text-lg">{{ item.product.name }}</h2>
            <p class="text-gray-500">Quantity: {{ item.quantity }}</p>
        </div>

        <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ -->
        <div class="flex items-center gap-3">

            <form action="{% url 'cart:decrease_item' item.product.id %}" method="post">
                {% csrf_token %}
                <button class="bg-gray-200 px-3 py-1 rounded hover:bg-gray-300">-</button>
            </form>

            <form action="{% url 'cart:add_to_cart' item.product.id %}" method="post">
                {% csrf_token %}
                <button class="bg-gray-200 px-3 py-1 rounded hover:bg-gray-300">+</button>
            </form>

        </div>

    </div>
    {% endfor %}

</div>

<!-- Ø§Ú©Ø´Ù†â€ŒÙ‡Ø§ÛŒ Ù¾Ø§ÛŒÛŒÙ† Ø³Ø¨Ø¯ -->
<div class="mt-10 flex justify-between items-center border-t pt-6">

    <a href="{% url 'cart:delete_cart' %}"
       class="text-red-600 hover:underline">
        Empty Cart
    </a>

    <form action="{% url 'orders:create' %}" method="post">
        {% csrf_token %}
        <button class="bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded shadow">
            Proceed to Checkout
        </button>
    </form>

</div>

{% else %}

<div class="text-center text-gray-500 mt-20">
    Your cart is empty ðŸ›’
</div>

{% endif %}

{% endblock %}
